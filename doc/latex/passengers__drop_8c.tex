\hypertarget{passengers__drop_8c}{}\doxysection{C\+:/\+Users/\+Work/git\+\_\+repo/elevator\+\_\+simulator/src/passengers\+\_\+drop.c File Reference}
\label{passengers__drop_8c}\index{C:/Users/Work/git\_repo/elevator\_simulator/src/passengers\_drop.c@{C:/Users/Work/git\_repo/elevator\_simulator/src/passengers\_drop.c}}


The function takes in the elevator\+\_\+array.  


{\ttfamily \#include \char`\"{}passengers\+\_\+drop.\+h\char`\"{}}\newline
{\ttfamily \#include $<$assert.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$stdbool.\+h$>$}\newline
{\ttfamily \#include \char`\"{}globals.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}structures.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}travel\+\_\+log\+\_\+file.\+h\char`\"{}}\newline
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{passengers__drop_8c_a11a7b91c4b20588fd46ab8e9c9df46e1}{passengers\+\_\+drop}} (struct \mbox{\hyperlink{structelevator}{elevator}} elevator\+\_\+arr\mbox{[}$\,$\mbox{]}, int index, int cur\+\_\+floor, unsigned int event\+\_\+time)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
The function takes in the elevator\+\_\+array. 

\begin{DoxyAuthor}{Author}
Hariprasad Munusamy -\/ \href{mailto:HariprasadMunusamy@cmail.carleton.ca}{\texttt{ Hariprasad\+Munusamy@cmail.\+carleton.\+ca}} 
\end{DoxyAuthor}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{passengers__drop_8c_a11a7b91c4b20588fd46ab8e9c9df46e1}\label{passengers__drop_8c_a11a7b91c4b20588fd46ab8e9c9df46e1}} 
\index{passengers\_drop.c@{passengers\_drop.c}!passengers\_drop@{passengers\_drop}}
\index{passengers\_drop@{passengers\_drop}!passengers\_drop.c@{passengers\_drop.c}}
\doxysubsubsection{\texorpdfstring{passengers\_drop()}{passengers\_drop()}}
{\footnotesize\ttfamily int passengers\+\_\+drop (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structelevator}{elevator}}}]{elevator\+\_\+arr\mbox{[}$\,$\mbox{]},  }\item[{int}]{index,  }\item[{int}]{cur\+\_\+floor,  }\item[{unsigned int}]{event\+\_\+time }\end{DoxyParamCaption})}

Removes the passenger from the floor and the elevator array.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em elevator\+\_\+arr} & array of struct elevators \\
\hline
\mbox{\texttt{ in}}  & {\em index} & index of the elevator to operate on \\
\hline
\mbox{\texttt{ in}}  & {\em cur\+\_\+floor} & the current floor of the elevator \\
\hline
\mbox{\texttt{ in}}  & {\em event\+\_\+time} & the time this event happened.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The function return the number of passengers dropped. 
\end{DoxyReturn}


Definition at line 27 of file passengers\+\_\+drop.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{28 \{}
\DoxyCodeLine{29 }
\DoxyCodeLine{30     assert(index <= \mbox{\hyperlink{globals_8h_a11ee4b54505479cda7e127a7030a76a7}{elevator\_count}});}
\DoxyCodeLine{31     assert(cur\_floor <= \mbox{\hyperlink{globals_8h_adcbcca2d0621f8f94d7ccc4d81ca6f37}{floor\_count}});}
\DoxyCodeLine{32     assert(cur\_floor == elevator\_arr[index].cur\_floor);}
\DoxyCodeLine{33 }
\DoxyCodeLine{34     \textcolor{keywordtype}{int} passenger\_dropped = 0;}
\DoxyCodeLine{35     \textcolor{keywordtype}{int} max\_passenger = elevator\_arr[index].\mbox{\hyperlink{structelevator_ae18c23ac67fc1e94d1dd831119d90f6f}{max\_passenger}};}
\DoxyCodeLine{36     \textcolor{comment}{//Loop to iterate the overall passengers in the elevator}}
\DoxyCodeLine{37     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < max\_passenger; i++)}
\DoxyCodeLine{38     \{}
\DoxyCodeLine{39         \textcolor{keywordtype}{bool} \mbox{\hyperlink{structpassenger_a8af124b4de91150e204a2374e98ee71f}{in\_elevator}} = elevator\_arr[index].\mbox{\hyperlink{structelevator_ab3f0430781fbb878267214945aaf9322}{passenger\_arr}}[i].\mbox{\hyperlink{structpassenger_a8af124b4de91150e204a2374e98ee71f}{in\_elevator}};}
\DoxyCodeLine{40         \textcolor{keywordflow}{if} (elevator\_arr[index].passenger\_arr[i].\mbox{\hyperlink{structpassenger_a1cd2d080a6795d30505e8722d329c7e2}{dest\_floor}} == cur\_floor \&\& \mbox{\hyperlink{structpassenger_a8af124b4de91150e204a2374e98ee71f}{in\_elevator}})}
\DoxyCodeLine{41         \{}
\DoxyCodeLine{42             elevator\_arr[index].\mbox{\hyperlink{structelevator_ab3f0430781fbb878267214945aaf9322}{passenger\_arr}}[i].\mbox{\hyperlink{structpassenger_a8af124b4de91150e204a2374e98ee71f}{in\_elevator}} = \textcolor{keyword}{false}; \textcolor{comment}{//setting the status}}
\DoxyCodeLine{43             elevator\_arr[index].\mbox{\hyperlink{structelevator_a35976c62fece1a1887b39d2761e409e3}{passenger\_count}}-\/-\/;}
\DoxyCodeLine{44             passenger\_dropped++;}
\DoxyCodeLine{45             \textcolor{keyword}{struct }\mbox{\hyperlink{structpassenger}{passenger}} temp = elevator\_arr[index].\mbox{\hyperlink{structelevator_ab3f0430781fbb878267214945aaf9322}{passenger\_arr}}[i];}
\DoxyCodeLine{46             \mbox{\hyperlink{travel__log__file_8h_af8d5fde3cc01745bf27550d1fb69bf3f}{travel\_log\_file}}(temp, event\_time, index, 1); \textcolor{comment}{//choose mode to write to travel\_log as we are removing passenger.}}
\DoxyCodeLine{47         \}}
\DoxyCodeLine{48     \}}
\DoxyCodeLine{49     \textcolor{keywordflow}{return} passenger\_dropped;}
\DoxyCodeLine{50 \}}

\end{DoxyCode}
